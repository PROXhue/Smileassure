<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmileAssure | The New Standard of Oral Health</title>
    
    <!-- Razorpay Payment Gateway -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    
    <style>
        :root {
            --brand-teal: #008B9D;
            --deep-black: #050505;
            --soft-gray: #F2F2F7;
            --white: #ffffff;
            --glass: rgba(255, 255, 255, 0.8);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "SF Pro Display", -apple-system, BlinkMacSystemFont, sans-serif;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--white);
            color: var(--deep-black);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* --- Sophisticated Navigation --- */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px 6%;
            z-index: 1000;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        nav.scrolled {
            padding: 16px 6%;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .logo { 
            font-weight: 900; 
            font-size: 22px; 
            letter-spacing: -1.5px; 
            color: var(--deep-black);
            text-decoration: none;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .nav-links { 
            display: flex; 
            gap: 40px; 
            align-items: center;
        }
        
        .nav-links a { 
            text-decoration: none; 
            color: var(--deep-black); 
            font-size: 13px; 
            font-weight: 600; 
            letter-spacing: 0.5px;
            text-transform: uppercase;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-links a:hover {
            color: var(--brand-teal);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--brand-teal);
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .cta-button {
            background: var(--brand-teal);
            color: white;
            padding: 12px 28px;
            border-radius: 100px;
            text-decoration: none;
            font-size: 13px;
            font-weight: 700;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            transition: all 0.3s ease;
            border: 2px solid var(--brand-teal);
        }

        .cta-button:hover {
            background: transparent;
            color: var(--brand-teal);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,139,157,0.3);
        }

        /* Mobile Menu */
        .mobile-menu-btn {
            display: none;
            flex-direction: column;
            gap: 6px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
        }

        .mobile-menu-btn span {
            width: 25px;
            height: 2px;
            background: var(--deep-black);
            transition: all 0.3s ease;
        }

        .mobile-menu-btn.active span:nth-child(1) {
            transform: rotate(45deg) translate(8px, 8px);
        }

        .mobile-menu-btn.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-btn.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -7px);
        }

        .mobile-nav {
            display: none;
            position: fixed;
            top: 80px;
            left: 0;
            width: 100%;
            background: var(--white);
            padding: 30px 6%;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transform: translateY(-100%);
            transition: transform 0.3s ease;
        }

        .mobile-nav.active {
            transform: translateY(0);
        }

        .mobile-nav a {
            display: block;
            padding: 15px 0;
            text-decoration: none;
            color: var(--deep-black);
            font-size: 16px;
            font-weight: 600;
            border-bottom: 1px solid var(--soft-gray);
        }

        /* --- Immersive Hero Section --- */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            padding: 0 6%;
            background: linear-gradient(90deg, #fff 30%, rgba(255,255,255,0) 100%), 
                        url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&q=80&w=2000');
            background-size: cover;
            background-position: right center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0,139,157,0.1) 0%, transparent 100%);
        }

        .hero-content { 
            max-width: 700px; 
            position: relative;
            z-index: 2;
            animation: fadeInUp 1s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tagline {
            font-size: 12px;
            font-weight: 800;
            letter-spacing: 4px;
            color: var(--brand-teal);
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        h1 {
            font-size: clamp(54px, 8vw, 96px);
            font-weight: 900;
            line-height: 0.9;
            letter-spacing: -5px;
            margin-bottom: 30px;
        }

        .hero-description {
            font-size: 22px;
            line-height: 1.5;
            color: #444;
            max-width: 500px;
            margin-bottom: 40px;
        }

        .hero-cta-group {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .primary-btn, .secondary-btn {
            padding: 18px 40px;
            border-radius: 100px;
            font-size: 16px;
            font-weight: 700;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
        }

        .primary-btn {
            background: var(--brand-teal);
            color: white;
        }

        .primary-btn:hover {
            background: #007080;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,139,157,0.4);
        }

        .secondary-btn {
            background: transparent;
            color: var(--deep-black);
            border: 2px solid var(--deep-black);
        }

        .secondary-btn:hover {
            background: var(--deep-black);
            color: white;
        }

        /* --- Doorstep Section --- */
        .depth-section {
            padding: 140px 6%;
            background: var(--soft-gray);
            display: flex;
            gap: 80px;
            align-items: center;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .depth-section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .image-stack {
            flex: 1;
            position: relative;
            height: 600px;
        }

        .img-main {
            width: 80%;
            height: 100%;
            object-fit: cover;
            border-radius: 30px;
            box-shadow: 0 40px 80px rgba(0,0,0,0.1);
            transition: transform 0.5s ease;
        }

        .img-main:hover {
            transform: scale(1.02);
        }

        .img-overlay {
            position: absolute;
            bottom: -40px;
            right: 0;
            width: 50%;
            height: 60%;
            background: var(--brand-teal);
            border-radius: 24px;
            border: 10px solid var(--soft-gray);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            transition: transform 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px;
            color: white;
            font-size: 28px;
            font-weight: 900;
            text-align: center;
            line-height: 1.3;
            letter-spacing: -1px;
        }

        .img-overlay:hover {
            transform: scale(1.05);
        }

        .text-side { 
            flex: 1; 
        }
        
        .text-side h2 { 
            font-size: 56px; 
            font-weight: 900; 
            letter-spacing: -3px; 
            margin-bottom: 20px; 
        }

        /* --- Features Section --- */
        .features-section {
            padding: 100px 6%;
            background: white;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            margin-top: 60px;
        }

        .feature-card {
            padding: 40px;
            background: var(--soft-gray);
            border-radius: 30px;
            transition: all 0.4s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .feature-card h3 {
            font-size: 24px;
            margin-bottom: 15px;
            color: var(--deep-black);
        }

        .feature-card p {
            color: #666;
            line-height: 1.6;
        }

        /* --- Subscription Cards --- */
        .subscription-grid {
            padding: 100px 6%;
            background: var(--deep-black);
            color: var(--white);
        }

        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 60px;
        }

        .sub-card {
            background: #111;
            padding: 50px;
            border-radius: 40px;
            transition: all 0.4s ease;
            border: 1px solid #222;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .sub-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--brand-teal);
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }

        .sub-card:hover::before {
            transform: scaleX(1);
        }

        .sub-card:hover {
            border-color: var(--brand-teal);
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,139,157,0.3);
        }

        .sub-card h3 { 
            font-size: 28px; 
            margin-bottom: 15px; 
        }
        
        .sub-card p { 
            opacity: 0.6; 
            line-height: 1.6; 
            margin-bottom: 30px;
        }

        .sub-card .price {
            font-size: 42px;
            font-weight: 900;
            margin: 20px 0;
            color: var(--brand-teal);
        }

        .sub-card ul {
            list-style: none;
            margin: 20px 0;
        }

        .sub-card li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
        }

        .sub-card li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: var(--brand-teal);
            font-weight: bold;
        }

        .select-plan-btn {
            width: 100%;
            padding: 15px;
            background: transparent;
            border: 2px solid var(--brand-teal);
            color: var(--brand-teal);
            border-radius: 100px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .select-plan-btn:hover {
            background: var(--brand-teal);
            color: white;
        }

        /* --- How It Works Section --- */
        .how-it-works {
            padding: 100px 6%;
            background: white;
        }

        .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 60px;
            margin-top: 60px;
        }

        .step {
            text-align: center;
            position: relative;
        }

        .step-number {
            width: 80px;
            height: 80px;
            background: var(--brand-teal);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: 900;
            margin: 0 auto 30px;
        }

        .step h3 {
            font-size: 24px;
            margin-bottom: 15px;
        }

        .step p {
            color: #666;
            line-height: 1.6;
        }

        /* --- FAQ Section --- */
        .faq-section {
            padding: 100px 6%;
            background: var(--soft-gray);
        }

        .faq-container {
            max-width: 800px;
            margin: 60px auto 0;
        }

        .faq-item {
            background: white;
            border-radius: 20px;
            margin-bottom: 20px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .faq-question {
            padding: 25px 30px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .faq-question:hover {
            background: var(--soft-gray);
        }

        .faq-icon {
            font-size: 24px;
            transition: transform 0.3s ease;
        }

        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
            padding: 0 30px;
            color: #666;
            line-height: 1.8;
        }

        .faq-item.active .faq-answer {
            max-height: 500px;
            padding: 0 30px 25px;
        }

        /* --- Launch/Contact Section --- */
        .launch-footer {
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 100px 6%;
            background: linear-gradient(135deg, var(--deep-black) 0%, #1a1a1a 100%);
            color: white;
        }

        .launch-footer h2 { 
            font-size: 72px; 
            letter-spacing: -4px; 
            margin-bottom: 20px; 
        }

        .concierge-pill {
            padding: 15px 40px;
            background: var(--brand-teal);
            color: white;
            border-radius: 100px;
            font-weight: 700;
            font-size: 18px;
            margin-top: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .concierge-pill:hover {
            background: #007080;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,139,157,0.4);
        }

        /* --- Modal Styles --- */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 30px;
            padding: 50px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.4s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--soft-gray);
            border: none;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: var(--deep-black);
            color: white;
            transform: rotate(90deg);
        }

        .modal-content h2 {
            font-size: 36px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid var(--soft-gray);
            border-radius: 15px;
            font-size: 16px;
            font-family: inherit;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--brand-teal);
            box-shadow: 0 0 0 3px rgba(0,139,157,0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        .submit-btn {
            width: 100%;
            padding: 18px;
            background: var(--brand-teal);
            color: white;
            border: none;
            border-radius: 100px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .submit-btn:hover {
            background: #007080;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,139,157,0.4);
        }

        .submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .success-message {
            background: #4CAF50;
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-top: 20px;
            display: none;
        }

        .success-message.active {
            display: block;
            animation: slideUp 0.4s ease;
        }

        /* --- Booking Calendar --- */
        .calendar-container {
            margin: 30px 0;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-nav {
            background: var(--soft-gray);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s ease;
        }

        .calendar-nav:hover {
            background: var(--brand-teal);
            color: white;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 600;
        }

        .calendar-day:not(.disabled):hover {
            background: var(--soft-gray);
        }

        .calendar-day.selected {
            background: var(--brand-teal);
            color: white;
        }

        .calendar-day.disabled {
            color: #ccc;
            cursor: not-allowed;
        }

        .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }

        .time-slot {
            padding: 15px;
            border: 2px solid var(--soft-gray);
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .time-slot:hover {
            border-color: var(--brand-teal);
            background: rgba(0,139,157,0.1);
        }

        .time-slot.selected {
            background: var(--brand-teal);
            color: white;
            border-color: var(--brand-teal);
        }

        .time-slot.disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        /* --- Floating Chat Button --- */
        .chat-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: var(--brand-teal);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0,139,157,0.4);
            transition: all 0.3s ease;
            z-index: 999;
        }

        .chat-float:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 30px rgba(0,139,157,0.6);
        }

        .chat-float::before {
            content: '';
            width: 20px;
            height: 20px;
            border: 3px solid white;
            border-radius: 3px 3px 0 0;
            border-bottom: none;
            position: absolute;
            top: 16px;
            left: 20px;
        }

        .chat-float::after {
            content: '';
            width: 12px;
            height: 12px;
            background: white;
            border-radius: 0 0 3px 3px;
            position: absolute;
            bottom: 18px;
            left: 24px;
        }

        /* --- Responsive Design --- */
        @media (max-width: 968px) {
            .hero { 
                background-position: 70% center;
                padding: 0 5%;
            }
            
            .depth-section { 
                flex-direction: column; 
                padding: 80px 5%; 
            }
            
            .image-stack { 
                height: 400px; 
                width: 100%; 
            }
            
            .nav-links { 
                display: none; 
            }

            .mobile-menu-btn {
                display: flex;
            }

            .mobile-nav {
                display: block;
            }

            h1 {
                font-size: 48px;
            }

            .text-side h2 {
                font-size: 42px;
            }

            .launch-footer h2 {
                font-size: 48px;
            }

            .modal-content {
                padding: 30px 20px;
            }

            .hero-cta-group {
                flex-direction: column;
            }

            .primary-btn, .secondary-btn {
                width: 100%;
                text-align: center;
            }
        }

        /* --- Loading Animation --- */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* --- Progress Bar --- */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background: var(--brand-teal);
            z-index: 9999;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>

    <!-- Navigation -->
    <nav id="navbar">
        <a href="#" class="logo">SMILEASSURE</a>
        <div class="nav-links">
            <a href="#doorstep">The Experience</a>
            <a href="#subscription">Subscription</a>
            <a href="#how-it-works">How It Works</a>
            <a href="#faq">FAQ</a>
            <a href="#" class="cta-button" onclick="openWaitlistModal()">Join Waitlist</a>
        </div>
        <button class="mobile-menu-btn" id="mobileMenuBtn">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </nav>

    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobileNav">
        <a href="#doorstep" onclick="closeMobileMenu()">The Experience</a>
        <a href="#subscription" onclick="closeMobileMenu()">Subscription</a>
        <a href="#how-it-works" onclick="closeMobileMenu()">How It Works</a>
        <a href="#faq" onclick="closeMobileMenu()">FAQ</a>
        <a href="#" onclick="openWaitlistModal(); closeMobileMenu();">Join Waitlist</a>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <p class="tagline">Now Arriving at Home</p>
            <h1>Radical<br>Oral Care.</h1>
            <p class="hero-description">We are reimagining dental health by delivering professional clinical care with extreme simplicity.</p>
            <div class="hero-cta-group">
                <button class="primary-btn" onclick="openBookingModal()">Book Appointment</button>
                <button class="secondary-btn" onclick="openWaitlistModal()">Join Waitlist</button>
            </div>
        </div>
    </section>

    <!-- Doorstep Section -->
    <section class="depth-section" id="doorstep">
        <div class="image-stack">
            <img src="https://images.unsplash.com/photo-1629909613654-28e377c37b09?auto=format&fit=crop&q=80&w=1200" class="img-main" alt="Portable Dental Chair">
            <div class="img-overlay">Dental Care at Your Doorsteps</div>
        </div>
        <div class="text-side">
            <p class="tagline">The Doorstep Model</p>
            <h2>Clinic Quality.<br>Living Room<br>Comfort.</h2>
            <p class="hero-description">Our licensed experts bring portable, hospital-grade equipment to your home. No traffic, no queues, just your smile.</p>
            <button class="primary-btn" onclick="openBookingModal()" style="margin-top: 30px;">Schedule Visit</button>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
        <p class="tagline" style="text-align: center;">Why Choose Us</p>
        <h2 style="font-size: 56px; text-align: center; letter-spacing: -3px;">Everything You Need.</h2>
        
        <div class="features-grid">
            <div class="feature-card">
                <h3>Home Convenience</h3>
                <p>Professional dental care in the comfort of your living room. No commute, no waiting rooms.</p>
            </div>
            <div class="feature-card">
                <h3>Instant Booking</h3>
                <p>Book appointments in seconds with our smart scheduling system. Same-day slots available.</p>
            </div>
            <div class="feature-card">
                <h3>Hospital-Grade Equipment</h3>
                <p>We bring the latest portable dental technology right to your door.</p>
            </div>
            <div class="feature-card">
                <h3>Licensed Professionals</h3>
                <p>All our dentists are fully licensed with 10+ years of experience.</p>
            </div>
            <div class="feature-card">
                <h3>AI Monitoring</h3>
                <p>Track your oral health with weekly smartphone scans powered by AI.</p>
            </div>
            <div class="feature-card">
                <h3>Transparent Pricing</h3>
                <p>No hidden fees. Fixed subscription rates with unlimited consultations.</p>
            </div>
        </div>
    </section>

    <!-- Subscription Section -->
    <section class="subscription-grid" id="subscription">
        <p class="tagline" style="text-align: center;">Our Services</p>
        <h2 style="font-size: 56px; text-align: center; letter-spacing: -3px;">Subscription Plans</h2>
        <p style="text-align: center; color: rgba(255,255,255,0.6); margin-top: 20px; font-size: 14px;">
            üîí Secure payments powered by Razorpay | All major payment methods accepted
        </p>
        
        <div class="card-container">
            <div class="sub-card" style="background: var(--brand-teal); position: relative;">
                <div style="position: absolute; top: 20px; right: 20px; background: white; color: var(--brand-teal); padding: 8px 16px; border-radius: 20px; font-size: 12px; font-weight: 800; letter-spacing: 0.5px;">BEST VALUE</div>
                <h3 style="color: white;">Family Plan</h3>
                <div class="price" style="color: white;">‚Çπ1,999<span style="font-size: 18px;">/year</span></div>
                <p style="color: white; opacity: 0.9;">Save ‚Çπ1800+ per year</p>
                <ul style="color: white;">
                    <li>5 Scaling sessions per year</li>
                    <li>1 Free Bleaching session</li>
                    <li>For family of 2 members</li>
                    <li>Priority booking</li>
                    <li>Free consultations</li>
                    <li>10% off on additional services</li>
                </ul>
                <button class="select-plan-btn" style="background: white; color: var(--brand-teal); border-color: white;" onclick="selectPlan('Family Plan', 199900)">Subscribe Now</button>
            </div>

            <div class="sub-card">
                <div style="background: #e3f2fd; color: #1976d2; padding: 6px 12px; border-radius: 20px; font-size: 11px; font-weight: 800; display: inline-block; margin-bottom: 15px;">Perfect for First-timers</div>
                <h3>One-Time Family Pack</h3>
                <div class="price">‚Çπ1,299<span style="font-size: 14px; text-decoration: line-through; opacity: 0.5; margin-left: 10px;">‚Çπ1,500+</span></div>
                <p>Great value for first-time customers</p>
                <ul>
                    <li>Scaling for 2 family members</li>
                    <li>Free kids checkup (if needed)</li>
                    <li>Free prophylaxis treatment</li>
                    <li>Valid for 3 months</li>
                    <li>No commitment required</li>
                </ul>
                <button class="select-plan-btn" onclick="selectPlan('One-Time Family Pack', 129900)">Subscribe Now</button>
            </div>
            
            <div class="sub-card">
                <h3>Teeth Scaling</h3>
                <div class="price">‚Çπ799<span style="font-size: 14px; opacity: 0.6; margin-left: 10px;">‚è± 45 mins</span></div>
                <p>Professional deep cleaning to remove plaque and tartar buildup</p>
                <ul>
                    <li>Removes plaque & tartar</li>
                    <li>Prevents gum disease</li>
                    <li>Freshens breath</li>
                    <li>Improves oral health</li>
                </ul>
                <button class="select-plan-btn" onclick="selectPlan('Teeth Scaling', 79900)">Book Now</button>
            </div>

            <div class="sub-card">
                <h3>Kids Dental Checkup</h3>
                <div class="price">From ‚Çπ599<span style="font-size: 14px; opacity: 0.6; margin-left: 10px;">‚è± 30 mins</span></div>
                <p>Gentle checkup and cleaning designed especially for children</p>
                <ul>
                    <li>Child-friendly approach</li>
                    <li>Early detection</li>
                    <li>Preventive care</li>
                    <li>Fun & comfortable</li>
                </ul>
                <button class="select-plan-btn" onclick="selectPlan('Kids Dental Checkup', 59900)">Book Now</button>
            </div>

            <div class="sub-card">
                <h3>Teeth Bleaching</h3>
                <div class="price">‚Çπ1,299<span style="font-size: 14px; opacity: 0.6; margin-left: 10px;">‚è± 60 mins</span></div>
                <p>Safe whitening treatment for a brighter, confident smile</p>
                <ul>
                    <li>Professional whitening</li>
                    <li>Visible results</li>
                    <li>Safe & effective</li>
                    <li>Boosts confidence</li>
                </ul>
                <button class="select-plan-btn" onclick="selectPlan('Teeth Bleaching', 129900)">Book Now</button>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works" id="how-it-works">
        <p class="tagline" style="text-align: center;">How It Works</p>
        <h2 style="font-size: 56px; text-align: center; letter-spacing: -3px;">Three Simple Steps.</h2>
        
        <div class="steps-container">
            <div class="step">
                <div class="step-number">1</div>
                <h3>Book Online</h3>
                <p>Choose your preferred date and time slot through our instant booking system. Appointments confirmed in real-time.</p>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <h3>We Come to You</h3>
                <p>Our licensed dentist arrives at your doorstep with portable, hospital-grade equipment at the scheduled time.</p>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <h3>Relax & Smile</h3>
                <p>Receive professional dental care in the comfort of your home. No traffic, no waiting, just your smile.</p>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section" id="faq">
        <p class="tagline" style="text-align: center;">Frequently Asked Questions</p>
        <h2 style="font-size: 56px; text-align: center; letter-spacing: -3px;">Got Questions?</h2>
        
        <div class="faq-container">
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <span>Is the equipment really hospital-grade?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    Yes! We use the same professional-grade portable equipment used in modern dental clinics. All instruments are sterilized according to WHO standards and our equipment is certified by the Dental Council of India.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <span>Are your dentists licensed?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    Absolutely. All SmileAssure dentists are licensed by the Dental Council of India and have a minimum of 10 years of clinical experience. You can verify credentials before your appointment.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <span>What areas do you service in Bengaluru?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    We currently service all major areas within 20km of Jigani Industrial Area. Enter your pincode during booking to confirm availability. We're expanding rapidly to cover all of Bengaluru.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <span>Can I cancel or reschedule appointments?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    Yes, you can reschedule or cancel up to 24 hours before your appointment with no penalty. Within 24 hours, a small rescheduling fee may apply to cover mobilization costs.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <span>How does the AI monitoring work?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    Simply use our mobile app to take photos of your teeth. Our AI analyzes the images to detect early signs of cavities, gum disease, or other issues. You'll get instant feedback and dentist alerts if something needs attention.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <span>What if I need emergency dental care?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    Premium and Family plan members get priority emergency slots within 4 hours. Essential members can access emergency care with an additional fee. We're available 24/7 for urgent consultations.
                </div>
            </div>
        </div>
    </section>

    <!-- Contact/Launch Section -->
    <section class="launch-footer" id="launch">
        <p class="tagline">Project: Bengaluru</p>
        <h2>Launching Soon.</h2>
        <p style="font-size: 20px; color: #ccc; max-width: 600px; margin-top: 20px;">We are currently finalizing our fleet of mobile units. Join the waitlist for early access and exclusive launch offers.</p>
        <button class="concierge-pill" onclick="openContactModal()">Contact Us: +91 9591156239</button>
        
        <footer style="margin-top: 100px; font-size: 12px; color: #888; letter-spacing: 1px; font-weight: 700;">
            SMILEASSURE ‚Ä¢ BESIDE DLF APARTMENTS, JIGANI INDUSTRIAL AREA, BENGALURU
        </footer>
    </section>

    <!-- Floating Chat Button -->
    <div class="chat-float" onclick="openContactModal()"></div>

    <!-- Waitlist Modal -->
    <div class="modal" id="waitlistModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('waitlistModal')">√ó</button>
            <h2>Join the Waitlist</h2>
            <p style="color: #666; margin-bottom: 30px;">Be among the first to experience the future of dental care. Early members get special launch pricing!</p>
            
            <form id="waitlistForm" onsubmit="submitWaitlist(event)">
                <div class="form-group">
                    <label>Full Name *</label>
                    <input type="text" id="waitlist-name" required placeholder="Your full name">
                </div>
                
                <div class="form-group">
                    <label>Email Address *</label>
                    <input type="email" id="waitlist-email" required placeholder="you@example.com">
                </div>
                
                <div class="form-group">
                    <label>Phone Number *</label>
                    <input type="tel" id="waitlist-phone" required placeholder="+91 98765 43210">
                </div>
                
                <div class="form-group">
                    <label>Area/Pincode *</label>
                    <input type="text" id="waitlist-pincode" required placeholder="560105">
                </div>
                
                <div class="form-group">
                    <label>Interested In</label>
                    <select id="waitlist-interest">
                        <option>Essential Plan</option>
                        <option>Premium Plan</option>
                        <option>Family Plan</option>
                        <option>Just Exploring</option>
                    </select>
                </div>
                
                <button type="submit" class="submit-btn" id="waitlistSubmitBtn">Join Waitlist</button>
                
                <div class="success-message" id="waitlistSuccess">
                    <strong>‚úì You're on the list!</strong><br>
                    We'll contact you as soon as we launch in your area.
                </div>
            </form>
        </div>
    </div>

    <!-- Booking Modal -->
    <div class="modal" id="bookingModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('bookingModal')">√ó</button>
            <h2>Book Your Appointment</h2>
            <p style="color: #666; margin-bottom: 30px;">Select a date and time that works best for you.</p>
            
            <form id="bookingForm" onsubmit="submitBooking(event)">
                <div class="form-group">
                    <label>Full Name *</label>
                    <input type="text" id="booking-name" required placeholder="Your full name">
                </div>
                
                <div class="form-group">
                    <label>Phone Number *</label>
                    <input type="tel" id="booking-phone" required placeholder="+91 98765 43210">
                </div>
                
                <div class="form-group">
                    <label>Email Address *</label>
                    <input type="email" id="booking-email" required placeholder="you@example.com">
                </div>
                
                <div class="form-group">
                    <label>Complete Address *</label>
                    <textarea id="booking-address" required placeholder="House/Flat No., Street, Area, Pincode"></textarea>
                </div>
                
                <div class="form-group">
                    <label>Service Type *</label>
                    <select id="booking-service">
                        <option>Dental Cleaning</option>
                        <option>Consultation</option>
                        <option>Cavity Filling</option>
                        <option>Teeth Whitening</option>
                        <option>Other (Specify in notes)</option>
                    </select>
                </div>

                <div class="calendar-container">
                    <div class="calendar-header">
                        <button type="button" class="calendar-nav" onclick="changeMonth(-1)">‚Üê</button>
                        <strong id="calendarMonth">February 2026</strong>
                        <button type="button" class="calendar-nav" onclick="changeMonth(1)">‚Üí</button>
                    </div>
                    <div class="calendar-grid" id="calendarGrid"></div>
                </div>

                <div class="form-group">
                    <label>Preferred Time Slot *</label>
                    <div class="time-slots" id="timeSlots"></div>
                </div>
                
                <div class="form-group">
                    <label>Additional Notes</label>
                    <textarea id="booking-notes" placeholder="Any specific requirements or health conditions we should know about?"></textarea>
                </div>
                
                <button type="submit" class="submit-btn" id="bookingSubmitBtn">Confirm Booking</button>
                
                <div class="success-message" id="bookingSuccess">
                    <strong>‚úì Booking Confirmed!</strong><br>
                    We'll send you a confirmation SMS and email shortly.
                </div>
            </form>
        </div>
    </div>

    <!-- Contact Modal -->
    <div class="modal" id="contactModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('contactModal')">√ó</button>
            <h2>Get in Touch</h2>
            <p style="color: #666; margin-bottom: 30px;">Have questions? We're here to help!</p>
            
            <form id="contactForm" onsubmit="submitContact(event)">
                <div class="form-group">
                    <label>Your Name *</label>
                    <input type="text" id="contact-name" required placeholder="Your full name">
                </div>
                
                <div class="form-group">
                    <label>Email Address *</label>
                    <input type="email" id="contact-email" required placeholder="you@example.com">
                </div>
                
                <div class="form-group">
                    <label>Phone Number</label>
                    <input type="tel" id="contact-phone" placeholder="+91 98765 43210">
                </div>
                
                <div class="form-group">
                    <label>Subject *</label>
                    <select id="contact-subject">
                        <option>General Inquiry</option>
                        <option>Service Questions</option>
                        <option>Pricing Information</option>
                        <option>Partnership Opportunities</option>
                        <option>Technical Support</option>
                        <option>Other</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Message *</label>
                    <textarea id="contact-message" required placeholder="Tell us how we can help you..."></textarea>
                </div>
                
                <button type="submit" class="submit-btn" id="contactSubmitBtn">Send Message</button>
                
                <div class="success-message" id="contactSuccess">
                    <strong>‚úì Message Sent!</strong><br>
                    We'll get back to you within 24 hours.
                </div>
            </form>

            <div style="margin-top: 40px; padding-top: 30px; border-top: 2px solid var(--soft-gray);">
                <h3 style="margin-bottom: 20px;">Direct Contact</h3>
                <p style="color: #666; line-height: 2;">
                    <strong>Phone:</strong> +91 9591156239<br>
                    <strong>Email:</strong> hello@smileassure.in<br>
                    <strong>Address:</strong> Beside DLF Apartments, Jigani Industrial Area, Bengaluru
                </p>
            </div>
        </div>
    </div>

    <!-- Plan Selection Modal -->
    <div class="modal" id="planModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('planModal')">√ó</button>
            <h2 id="planModalTitle">Family Plan</h2>
            <p style="color: #666; margin-bottom: 30px;">Complete your subscription to get started with SmileAssure.</p>
            
            <form id="planForm" onsubmit="submitPlan(event)">
                <div class="form-group">
                    <label>Full Name *</label>
                    <input type="text" id="plan-name" required placeholder="Your full name">
                </div>
                
                <div class="form-group">
                    <label>Email Address *</label>
                    <input type="email" id="plan-email" required placeholder="you@example.com">
                </div>
                
                <div class="form-group">
                    <label>Phone Number *</label>
                    <input type="tel" id="plan-phone" required placeholder="+91 9591156239">
                </div>
                
                <div class="form-group">
                    <label>Complete Address *</label>
                    <textarea id="plan-address" required placeholder="House/Flat No., Street, Area, Pincode"></textarea>
                </div>
                
                <div class="form-group" id="familyMembersGroup" style="display: none;">
                    <label>Number of Family Members</label>
                    <select id="plan-members">
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Preferred Payment Method</label>
                    <select id="plan-payment">
                        <option>UPI (Google Pay, PhonePe, Paytm)</option>
                        <option>Credit/Debit Card</option>
                        <option>Net Banking</option>
                        <option>Wallets (Paytm, Mobikwik, etc.)</option>
                    </select>
                    <p style="font-size: 12px; color: #999; margin-top: 8px;">All payment methods are processed securely via Razorpay</p>
                </div>
                
                <button type="submit" class="submit-btn" id="planSubmitBtn">Proceed to Payment</button>
                
                <div class="success-message" id="planSuccess">
                    <strong>‚úì Subscription Initiated!</strong><br>
                    Redirecting to payment gateway...
                </div>
            </form>
        </div>
    </div>

    <script>
        let selectedDate = null;
        let selectedTime = null;
        let currentMonth = new Date();
        let selectedPlan = '';

        document.addEventListener('DOMContentLoaded', function() {
            setupScrollAnimations();
            setupProgressBar();
            setupNavbarScroll();
            generateCalendar();
            generateTimeSlots();
        });

        document.getElementById('mobileMenuBtn').addEventListener('click', function() {
            this.classList.toggle('active');
            document.getElementById('mobileNav').classList.toggle('active');
        });

        function closeMobileMenu() {
            document.getElementById('mobileMenuBtn').classList.remove('active');
            document.getElementById('mobileNav').classList.remove('active');
        }

        function setupScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.depth-section').forEach(el => observer.observe(el));
        }

        function setupProgressBar() {
            window.addEventListener('scroll', () => {
                const windowHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrolled = (window.scrollY / windowHeight) * 100;
                document.getElementById('progressBar').style.width = scrolled + '%';
            });
        }

        function setupNavbarScroll() {
            window.addEventListener('scroll', () => {
                const navbar = document.getElementById('navbar');
                if (window.scrollY > 100) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            });
        }

        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            document.body.style.overflow = 'auto';
            const modal = document.getElementById(modalId);
            const forms = modal.querySelectorAll('form');
            forms.forEach(form => form.reset());
            const successMessages = modal.querySelectorAll('.success-message');
            successMessages.forEach(msg => msg.classList.remove('active'));
        }

        function openWaitlistModal() {
            openModal('waitlistModal');
        }

        function openBookingModal() {
            openModal('bookingModal');
            generateCalendar();
        }

        function openContactModal() {
            openModal('contactModal');
        }

        function selectPlan(plan, price) {
            selectedPlan = plan;
            document.getElementById('planModalTitle').textContent = plan;
            
            // Family Plan gets the family members selector
            if (plan === 'Family Plan') {
                document.getElementById('familyMembersGroup').style.display = 'block';
            } else {
                document.getElementById('familyMembersGroup').style.display = 'none';
            }
            
            openModal('planModal');
        }

        function generateCalendar() {
            const grid = document.getElementById('calendarGrid');
            grid.innerHTML = '';
            const year = currentMonth.getFullYear();
            const month = currentMonth.getMonth();
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                               'July', 'August', 'September', 'October', 'November', 'December'];
            document.getElementById('calendarMonth').textContent = monthNames[month] + ' ' + year;
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const today = new Date();
            const dayLabels = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];
            dayLabels.forEach(label => {
                const dayLabel = document.createElement('div');
                dayLabel.textContent = label;
                dayLabel.style.fontWeight = '700';
                dayLabel.style.color = '#888';
                grid.appendChild(dayLabel);
            });
            for (let i = 0; i < firstDay; i++) {
                const emptyDay = document.createElement('div');
                grid.appendChild(emptyDay);
            }
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;
                const currentDate = new Date(year, month, day);
                if (currentDate < today.setHours(0, 0, 0, 0)) {
                    dayElement.classList.add('disabled');
                } else {
                    dayElement.onclick = function() {
                        document.querySelectorAll('.calendar-day').forEach(d => d.classList.remove('selected'));
                        this.classList.add('selected');
                        selectedDate = new Date(year, month, day);
                        generateTimeSlots();
                    };
                }
                grid.appendChild(dayElement);
            }
        }

        function changeMonth(delta) {
            currentMonth.setMonth(currentMonth.getMonth() + delta);
            const today = new Date();
            if (currentMonth < new Date(today.getFullYear(), today.getMonth(), 1)) {
                currentMonth = new Date(today.getFullYear(), today.getMonth(), 1);
            }
            generateCalendar();
        }

        function generateTimeSlots() {
            const container = document.getElementById('timeSlots');
            container.innerHTML = '';
            const slots = ['9:00 AM', '10:00 AM', '11:00 AM', '2:00 PM', '3:00 PM', '4:00 PM', '5:00 PM'];
            slots.forEach(time => {
                const slot = document.createElement('div');
                slot.className = 'time-slot';
                slot.textContent = time;
                if (Math.random() > 0.7) {
                    slot.classList.add('disabled');
                } else {
                    slot.onclick = function() {
                        document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
                        this.classList.add('selected');
                        selectedTime = time;
                    };
                }
                container.appendChild(slot);
            });
        }

        function toggleFAQ(element) {
            const faqItem = element.parentElement;
            const wasActive = faqItem.classList.contains('active');
            document.querySelectorAll('.faq-item').forEach(item => {
                item.classList.remove('active');
            });
            if (!wasActive) {
                faqItem.classList.add('active');
            }
        }

        const WEB3FORMS_ACCESS_KEY = '9a780328-34a9-4c73-90f2-a4e157cf6fd6';
        const BUSINESS_EMAIL = 'hello@smileassure.in';
        const RAZORPAY_KEY_ID = 'rzp_test_SG7vGXpQ7iQYeD';
        
        // Subscription Plans Pricing (in paise - 1 Rupee = 100 paise)
        const PLANS = {
            'Family Plan': {price: 199900, currency: 'INR', name: 'Family Plan', description: '5 Scaling sessions + 1 Free Bleaching per year'},
            'One-Time Family Pack': {price: 129900, currency: 'INR', name: 'One-Time Family Pack', description: 'Scaling for 2 family members + Free kids checkup'},
            'Teeth Scaling': {price: 79900, currency: 'INR', name: 'Teeth Scaling', description: 'Professional deep cleaning (45 mins)'},
            'Kids Dental Checkup': {price: 59900, currency: 'INR', name: 'Kids Dental Checkup', description: 'Gentle checkup for children (30 mins)'},
            'Teeth Bleaching': {price: 129900, currency: 'INR', name: 'Teeth Bleaching', description: 'Safe whitening treatment (60 mins)'}
        };
        
        function initializePayment(planData, customerData) {
            const plan = PLANS[planData.plan];
            const options = {
                "key": RAZORPAY_KEY_ID,
                "amount": plan.price,
                "currency": plan.currency,
                "name": "SmileAssure",
                "description": plan.description,
                "image": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%23008B9D'/%3E%3Ctext x='50' y='65' font-size='40' font-weight='900' fill='white' text-anchor='middle' font-family='Arial'%3ESA%3C/text%3E%3C/svg%3E",
                "prefill": {
                    "name": customerData.name,
                    "email": customerData.email,
                    "contact": customerData.phone
                },
                "notes": {
                    "plan": planData.plan,
                    "address": customerData.address,
                    "members": customerData.members || 'N/A',
                    "form_type": "Plan Subscription Payment"
                },
                "theme": {"color": "#008B9D"},
                "handler": function (response) {
                    handlePaymentSuccess(response, planData, customerData);
                },
                "modal": {
                    "ondismiss": function() {
                        handlePaymentDismiss();
                    }
                }
            };
            const rzp = new Razorpay(options);
            rzp.on('payment.failed', function (response) {
                handlePaymentFailure(response);
            });
            rzp.open();
        }
        
        function handlePaymentSuccess(response, planData, customerData) {
            const paymentData = {
                ...customerData,
                plan: planData.plan,
                payment_id: response.razorpay_payment_id,
                payment_signature: response.razorpay_signature,
                amount_paid: (PLANS[planData.plan].price / 100).toFixed(2),
                payment_status: 'SUCCESS',
                payment_method: 'Razorpay',
                timestamp: new Date().toISOString()
            };
            try {
                const submissions = JSON.parse(localStorage.getItem('smileassure_submissions') || '[]');
                submissions.push({timestamp: new Date().toISOString(), type: 'Payment Success - ' + planData.plan, data: paymentData});
                localStorage.setItem('smileassure_submissions', JSON.stringify(submissions));
            } catch (e) {}
            sendFormData(paymentData, 'Payment Successful - ' + planData.plan)
                .then(() => {
                    document.getElementById('planSubmitBtn').textContent = 'Proceed to Payment';
                    document.getElementById('planSubmitBtn').disabled = false;
                    const successMsg = document.getElementById('planSuccess');
                    successMsg.innerHTML = '<strong>‚úì Payment Successful!</strong><br>Payment ID: ' + response.razorpay_payment_id + '<br>We will contact you shortly to schedule your first appointment.';
                    successMsg.classList.add('active');
                    setTimeout(() => {closeModal('planModal');}, 5000);
                })
                .catch(error => {
                    alert('Payment successful but notification failed. Your Payment ID: ' + response.razorpay_payment_id);
                });
        }
        
        function handlePaymentFailure(response) {
            const btn = document.getElementById('planSubmitBtn');
            btn.textContent = 'Proceed to Payment';
            btn.disabled = false;
            alert('Payment Failed!\n\nReason: ' + response.error.description + '\n\nPlease try again or contact us at +91 9591156239');
        }
        
        function handlePaymentDismiss() {
            const btn = document.getElementById('planSubmitBtn');
            btn.textContent = 'Proceed to Payment';
            btn.disabled = false;
        }
        
        function sendFormData(formData, formType) {
            try {
                const submissions = JSON.parse(localStorage.getItem('smileassure_submissions') || '[]');
                submissions.push({timestamp: new Date().toISOString(), type: formType, data: formData});
                localStorage.setItem('smileassure_submissions', JSON.stringify(submissions));
            } catch (e) {}
            if (WEB3FORMS_ACCESS_KEY !== 'YOUR_ACCESS_KEY_HERE') {
                return fetch('https://api.web3forms.com/submit', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json', 'Accept': 'application/json'},
                    body: JSON.stringify({access_key: WEB3FORMS_ACCESS_KEY, subject: `SmileAssure - New ${formType}`, from_name: 'SmileAssure Website', ...formData})
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {return { success: true };} else {throw new Error('Form submission failed');}
                });
            } else {
                const subject = encodeURIComponent(`SmileAssure - New ${formType}`);
                let body = '';
                for (let key in formData) {body += `${key}: ${formData[key]}\n`;}
                body = encodeURIComponent(body);
                window.location.href = `mailto:${BUSINESS_EMAIL}?subject=${subject}&body=${body}`;
                return Promise.resolve({ success: true, method: 'mailto' });
            }
        }

        function submitWaitlist(event) {
            event.preventDefault();
            const btn = document.getElementById('waitlistSubmitBtn');
            const originalText = btn.textContent;
            btn.disabled = true;
            btn.innerHTML = '<span class="loading"></span>';
            const formData = {
                name: document.getElementById('waitlist-name').value,
                email: document.getElementById('waitlist-email').value,
                phone: document.getElementById('waitlist-phone').value,
                pincode: document.getElementById('waitlist-pincode').value,
                interest: document.getElementById('waitlist-interest').value,
                form_type: 'Waitlist Registration'
            };
            sendFormData(formData, 'Waitlist Registration')
                .then(() => {
                    btn.textContent = originalText;
                    btn.disabled = false;
                    document.getElementById('waitlistSuccess').classList.add('active');
                    setTimeout(() => {closeModal('waitlistModal');}, 3000);
                })
                .catch(error => {
                    btn.textContent = originalText;
                    btn.disabled = false;
                    alert('There was an error. Please contact us at ' + BUSINESS_EMAIL);
                });
        }

        function submitBooking(event) {
            event.preventDefault();
            if (!selectedDate) {alert('Please select a date'); return;}
            if (!selectedTime) {alert('Please select a time slot'); return;}
            const btn = document.getElementById('bookingSubmitBtn');
            const originalText = btn.textContent;
            btn.disabled = true;
            btn.innerHTML = '<span class="loading"></span>';
            const formData = {
                name: document.getElementById('booking-name').value,
                phone: document.getElementById('booking-phone').value,
                email: document.getElementById('booking-email').value,
                address: document.getElementById('booking-address').value,
                service: document.getElementById('booking-service').value,
                date: selectedDate.toDateString(),
                time: selectedTime,
                notes: document.getElementById('booking-notes').value,
                form_type: 'Appointment Booking'
            };
            sendFormData(formData, 'Appointment Booking')
                .then(() => {
                    btn.textContent = originalText;
                    btn.disabled = false;
                    document.getElementById('bookingSuccess').classList.add('active');
                    setTimeout(() => {closeModal('bookingModal');}, 3000);
                })
                .catch(error => {
                    btn.textContent = originalText;
                    btn.disabled = false;
                    alert('There was an error. Please contact us at ' + BUSINESS_EMAIL);
                });
        }

        function submitContact(event) {
            event.preventDefault();
            const btn = document.getElementById('contactSubmitBtn');
            const originalText = btn.textContent;
            btn.disabled = true;
            btn.innerHTML = '<span class="loading"></span>';
            const formData = {
                name: document.getElementById('contact-name').value,
                email: document.getElementById('contact-email').value,
                phone: document.getElementById('contact-phone').value,
                subject: document.getElementById('contact-subject').value,
                message: document.getElementById('contact-message').value,
                form_type: 'Contact Form'
            };
            sendFormData(formData, 'Contact Form')
                .then(() => {
                    btn.textContent = originalText;
                    btn.disabled = false;
                    document.getElementById('contactSuccess').classList.add('active');
                    setTimeout(() => {closeModal('contactModal');}, 3000);
                })
                .catch(error => {
                    btn.textContent = originalText;
                    btn.disabled = false;
                    alert('There was an error. Please contact us at ' + BUSINESS_EMAIL);
                });
        }

        function submitPlan(event) {
            event.preventDefault();
            const btn = document.getElementById('planSubmitBtn');
            const originalText = btn.textContent;
            btn.disabled = true;
            btn.innerHTML = '<span class="loading"></span>';
            const customerData = {
                name: document.getElementById('plan-name').value,
                email: document.getElementById('plan-email').value,
                phone: document.getElementById('plan-phone').value,
                address: document.getElementById('plan-address').value,
                members: document.getElementById('plan-members')?.value || 'N/A'
            };
            const planData = {plan: selectedPlan, payment_method: document.getElementById('plan-payment').value};
            setTimeout(() => {
                btn.textContent = 'Opening Payment Gateway...';
                try {
                    initializePayment(planData, customerData);
                    setTimeout(() => {
                        btn.textContent = originalText;
                        btn.disabled = false;
                    }, 1000);
                } catch (error) {
                    btn.textContent = originalText;
                    btn.disabled = false;
                    alert('Could not initialize payment. Please contact us at ' + BUSINESS_EMAIL);
                }
            }, 500);
        }

        window.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                closeModal(event.target.id);
            }
        });

        window.viewSubmissions = function() {
            const submissions = JSON.parse(localStorage.getItem('smileassure_submissions') || '[]');
            console.log('ALL SUBMISSIONS (' + submissions.length + ')');
            submissions.forEach((sub, index) => {
                console.log(`[${index + 1}] ${sub.type} - ${new Date(sub.timestamp).toLocaleString()}`);
                console.log(sub.data);
            });
            return submissions;
        };

        window.viewPayments = function() {
            const submissions = JSON.parse(localStorage.getItem('smileassure_submissions') || '[]');
            const payments = submissions.filter(sub => sub.type.includes('Payment'));
            console.log('PAYMENTS (' + payments.length + ')');
            payments.forEach((payment, index) => {
                console.log(`[${index + 1}] ${payment.data.plan} - ‚Çπ${payment.data.amount_paid}`);
                console.log('ID:', payment.data.payment_id);
            });
            console.log('Total: ‚Çπ' + payments.reduce((sum, p) => sum + parseFloat(p.data.amount_paid || 0), 0).toFixed(2));
            return payments;
        };

        window.downloadSubmissions = function() {
            const submissions = JSON.parse(localStorage.getItem('smileassure_submissions') || '[]');
            const dataStr = JSON.stringify(submissions, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'smileassure-' + new Date().toISOString().split('T')[0] + '.json';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        };

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href !== '#' && href !== '') {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({behavior: 'smooth', block: 'start'});
                    }
                }
            });
        });
    </script>
</body>
</html>
